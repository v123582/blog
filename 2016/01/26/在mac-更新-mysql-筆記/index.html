<!DOCTYPE html><html lang="tw-Tw"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description"/><meta property="og:image" content="https://avatars2.githubusercontent.com/u/5959524?v=3&amp;s=300"/><meta property="og:description" content="WeiYuan Note | 在 MacOS 上安裝/更新 MySQL 筆記"/><meta property="og:title" content="在 MacOS 上安裝/更新 MySQL 筆記"/><title>在 MacOS 上安裝/更新 MySQL 筆記 | WeiYuan Note</title><link rel="stylesheet" type="text/css" href="/blog//css/normalize.css"/><link rel="stylesheet" type="text/css" href="/blog//css/pure-min.css"/><link rel="stylesheet" type="text/css" href="/blog//css/grids-responsive-min.css"/><link rel="stylesheet" type="text/css" href="/blog//css/style.css"/><link rel="stylesheet" type="text/css" href="/blog//css/profile-card.css"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">在 MacOS 上安裝/更新 MySQL 筆記</h1><a id="logo" href="http://v123582.github.io">WeiYuan Note</a><p class="description">Experience never goes out of fashion</p></div><div id="nav-menu"><a href="http://v123582.github.io/about"><i class="icon-about"> 關於</i></a><a href="http://v123582.github.io/project"><i class="fa fa-tasks"> 專案</i></a><a href="http://v123582.github.io/blog"><i class="icon-archive"> 所有文章</i></a><a href="http://v123582.github.io/digest"><i class="icon-archive"> 文摘</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title"><span><i class="fa fa-star"></i></span>在 MacOS 上安裝/更新 MySQL 筆記</h1><div class="post-meta">2016-01-26 | Chang WeiYuan</div><a data-url="http://v123582.github.io/blog/2016/01/26/在mac-更新-mysql-筆記/" data-id="cimenctcu000nmwsboznewbzq" class="article-share-link">Share</a><div class="post-content"><h2 id="&#x5728;-mac-&#x4E0A;&#x5B89;&#x88DD;-mysql">&#x5728; Mac &#x4E0A;&#x5B89;&#x88DD; MySQL</h2><ol>
<li><p>&#x5229;&#x7528; brew &#x9032;&#x884C;&#x5B89;&#x88DD;&#xFF0C;&#x5B89;&#x88DD;&#x5F8C;&#x6703;&#x9810;&#x8A2D;&#x4E00;&#x500B;&#x4E0D;&#x7528;&#x8F38;&#x5165;&#x5BC6;&#x78BC;&#x7684; root &#x5E33;&#x865F;&#xFF0C;&#x5B89;&#x88DD;&#x5728; /usr/local/bin/mysql</p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">brew </span>install mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#xFF0C;&#x5148;&#x66F4;&#x6539;&#x5BC6;&#x78BC;</p>
<ul>
<li><p>&#x6CD5;&#x4E00;&#xFF1A;&#x624B;&#x52D5;&#x66F4;&#x6539;</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root <span class="comment"># &#x4F7F;&#x7528;&#x9810;&#x8A2D;&#x7684; root &#x5E33;&#x865F;&#x9023;&#x63A5; mysql</span></span><br><span class="line">mysql&gt;</span><br><span class="line">mysql&gt; <span class="keyword">USE</span> <span class="title">mysql</span>; <span class="comment"># &#x5207;&#x63DB;&#x5230; mysql &#x8CC7;&#x6599;&#x8868;</span></span><br><span class="line">mysql&gt; UPDATE user SET password=password(<span class="string">&apos;root&apos;</span>) WHERE user=<span class="string">&apos;root&apos;</span>; <span class="comment"># &#x8A2D;&#x5B9A; root &#x65B0;&#x7684;&#x5BC6;&#x78BC;</span></span><br><span class="line">mysql&gt; <span class="keyword">exit</span> </span><br><span class="line">$ mysql -u root -p <span class="comment"># &#x4F7F;&#x7528;&#x6539;&#x904E;&#x5BC6;&#x78BC;&#x7684; root &#x5E33;&#x865F;&#x9023;&#x63A5; mysql</span></span><br><span class="line">Enter password: **** <span class="comment"># &#x8F38;&#x5165;&#x5BC6;&#x78BC;&#x624D;&#x53EF;&#x4EE5;&#x767B;&#x5165;</span></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6CD5;&#x4E8C;&#xFF1A;&#x4F7F;&#x7528; mysql_secure_installation &#x4FEE;&#x6539;</p>
<p>mysql_secure_installation &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316; MySQL &#x7684;&#x5FEB;&#x901F;&#x8A2D;&#x5B9A;&#x3002;&#x9664;&#x4E86;&#x8981;&#x8A2D;&#x5B9A; root &#x8A2D;&#x5B9A;&#x5BC6;&#x78BC;&#x5916;&#xFF0C;&#x4E26;&#x52A0;&#x4E0A;&#x4E00;&#x4E9B;&#x5B89;&#x5168;&#x6B0A;&#x9650;&#x7684;&#x8A2D;&#x5B9A;&#x3002;</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ mysql_secure_installation</span><br><span class="line">&gt; Enter current password <span class="keyword">for</span> root (enter <span class="keyword">for</span> <span class="constant">none</span>):</span><br><span class="line"><span class="comment"># &#x8F38;&#x5165; root &#x7684;&#x5BC6;&#x78BC;&#xFF0C;&#x5982;&#x679C;&#x6C92;&#x6709;&#x8A2D;&#x5B9A;&#x904E;&#xFF0C;&#x76F4;&#x63A5;&#x6309; Enter &#x9375;&#x5373;&#x53EF;</span></span><br><span class="line">&gt; Set root password? [Y/n] </span><br><span class="line"><span class="comment"># &#x8A2D;&#x5B9A; root &#x7684;&#x5BC6;&#x78BC;</span></span><br><span class="line">&gt; Remove anonymous users? [Y/n] </span><br><span class="line"><span class="comment"># &#x79FB;&#x9664; anonymous &#x4F7F;&#x7528;&#x8005;</span></span><br><span class="line">&gt; Disallow root login remotely? [Y/n] <span class="comment"># &#x53D6;&#x6D88; root &#x9060;&#x7AEF;&#x767B;&#x5165;</span></span><br><span class="line">&gt; Remove test database <span class="operator">and</span> access <span class="built_in">to</span> <span class="keyword">it</span>? [Y/n] </span><br><span class="line"><span class="comment"># &#x79FB;&#x9664; test &#x8CC7;&#x6599;&#x8868;</span></span><br><span class="line">&gt; Reload privilege tables now? [Y/n] </span><br><span class="line"><span class="comment"># &#x91CD;&#x65B0;&#x8F09;&#x5165;&#x8CC7;&#x6599;&#x8868;&#x6B0A;&#x9650;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>MySQL &#x7684;&#x555F;&#x52D5;&#xFF0C;&#x91CD;&#x555F;&#xFF0C;&#x505C;&#x6B62;</p>
 <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mysql<span class="class">.server</span> start</span><br><span class="line">$ mysql<span class="class">.server</span> restart</span><br><span class="line">$ mysql<span class="class">.server</span> stop</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="&#x5728;-mac-&#x4E0A;&#x66F4;&#x65B0;-mysql">&#x5728; Mac &#x4E0A;&#x66F4;&#x65B0; MySQL</h2><ol>
<li><p>&#x5229;&#x7528; brew &#x9032;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x66F4;&#x65B0;&#x5F8C;&#x6703;&#x9810;&#x8A2D;&#x4E00;&#x500B;&#x4E0D;&#x7528;&#x8F38;&#x5165;&#x5BC6;&#x78BC;&#x7684; root &#x5E33;&#x865F;</p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">brew </span>upgrade mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x4FEE;&#x6539; root &#x5BC6;&#x78BC;&#xFF0C;&#x53EF;&#x4EE5;&#x53C3;&#x8003;&#x4E0A;&#x8FF0;&#x7684;&#x65B9;&#x6CD5;</p>
</li>
<li><p>&#x820A;&#x6709;&#x8CC7;&#x6599;&#x7D50;&#x69CB;&#x66F4;&#x65B0;<br>&#x7531;&#x65BC;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684; MySQL&#xFF0C;&#x53EF;&#x80FD;&#x6703;&#x6709;&#x4E0D;&#x4E00;&#x6A23;&#x7684;&#x8CC7;&#x6599;&#x7D50;&#x69CB;&#xFF0C;&#x5C0E;&#x81F4;&#x65B0;&#x7248;&#x7121;&#x6CD5;&#x4F7F;&#x7528;&#x820A;&#x7684;&#x8CC7;&#x6599;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; mysql_upgrade &#x5C0D;&#x8CC7;&#x6599;&#x9032;&#x884C;&#x66F4;&#x65B0;</p>
 <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_upgrade -u root -<span class="tag">p</span>  --force</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="&#x5176;&#x4ED6;&#x554F;&#x984C;">&#x5176;&#x4ED6;&#x554F;&#x984C;</h2><h3 id="mysql-handling-of-group-by">MySQL Handling of GROUP BY</h3><p>only_full_group_by (Default in mysql 5.7.9) </p>
<p>SQL92 and earlier does not permit queries for which the select list, HAVING condition, or ORDER BY list refer to nonaggregated columns that are neither named in the GROUP BY clause nor are functionally dependent on (uniquely determined by) GROUP BY columns.</p>
<p>&#x4EE5;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4F86;&#x8AAA;&#xFF0C;&#x5982;&#x679C; <code>name</code> &#x662F; primary key &#x6216;&#x662F; unique NOT NULL column&#xFF0C;GROUP &#x6642; <code>address</code> &#x53EF;&#x4EE5;&#x5C0D;&#x6620;&#x5230;&#x552F;&#x4E00; <code>name</code>&#x3002;&#x53CD;&#x4E4B;&#xFF0C;&#x5C07;&#x9020;&#x6210;&#x4E00;&#x500B; address &#x6703;&#x627E;&#x5230;&#x8D85;&#x904E;&#x4E00;&#x500B; <code>name</code> &#xFF0C;&#x9019;&#x7A2E;&#x60C5;&#x6CC1;&#xFF08;nonaggregated columns&#xFF09;&#x662F;&#x88AB;&#x7981;&#x6B62;&#x7684;&#x3002;</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">SELECT</span> name, address, MAX(age) <span class="keyword">FROM</span> t <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br><span class="line">&gt; ERROR <span class="number">1055</span> (<span class="number">42000</span>): Expression <span class="string">#2</span> <span class="keyword">of</span> <span class="keyword">SELECT</span> list <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">in</span> <span class="keyword">GROUP</span></span><br><span class="line"><span class="keyword">BY</span> clause <span class="keyword">and</span> contains nonaggregated column <span class="string">&apos;mydb.t.address&apos;</span> which</span><br><span class="line"><span class="keyword">is</span> <span class="keyword">not</span> functionally dependent <span class="keyword">on</span> columns <span class="keyword">in</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> clause; this</span><br><span class="line"><span class="keyword">is</span> incompatible <span class="keyword">with</span> sql_mode=only_full_group_by</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x89E3;&#x6CD5;&#x4E00;&#xFF1A;ANY_VALUE()</li>
</ul>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="built_in">SELECT</span> <span class="built_in">name</span>, ANY_VALUE(address), <span class="built_in">MAX</span>(age) <span class="keyword">FROM</span> t <span class="built_in">GROUP</span> BY <span class="built_in">name</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x89E3;&#x6CD5;&#x4E8C;&#xFF1A;&#x95DC;&#x9589; ONLY_FULL_GROUP_BY mode</li>
</ul>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="built_in">set</span> <span class="built_in">global</span> sql_mode=<span class="string">&apos;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&apos;</span>;</span><br><span class="line">mysql&gt; <span class="built_in">set</span> session sql_mode=<span class="string">&apos;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&apos;</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note.</p>
</blockquote>
<p>&#x4E00;&#x5C0D;&#x591A;&#x7684;&#x8CC7;&#x6599;&#xFF0C;&#x5C55;&#x958B;&#x5F8C;&#x6703;&#x51FA;&#x73FE;&#x591A;&#x7B46;&#xFF0C;&#x4F46;&#x53EA;&#x8981;&#x56DE;&#x50B3;&#x4E00;&#x7B46;&#xFF0C;&#x539F;&#x672C;&#x7684;&#x7248;&#x672C;&#x53EF;&#x4EE5;&#x5C0D; id &#x9032;&#x884C; GROUP&#x3002;&#x4F46;&#x662F;&#x65B0;&#x7248;&#x7684; MYSQL &#x7981;&#x6B62;&#x9019;&#x7A2E; GROUP 0.0&#x201D;</p>
<h2 id="reference">Reference</h2><p>[1] <a href="http://stackoverflow.com/questions/4359131/brew-install-mysql-on-mac-os" target="_blank" rel="external">brew install mysql on mac os</a><br>[3] <a href="http://itzone.hk/article/article.php?aid=200406230146464878" target="_blank" rel="external">MySQL&#x5E38;&#x7528;&#x6307;&#x4EE4;&#x53CA;&#x5E33;&#x6236;&#x7BA1;&#x7406;</a><br>[2] <a href="http://blog.ilc.edu.tw/blog/blog/25793/trackbacks/427683" target="_blank" rel="external">MySQL Server &#x5B89;&#x88DD;&#x5F8C;&#x7684;&#x8A2D;&#x5B9A;</a><br>[4] <a href="https://blog.longwin.com.tw/2010/10/mysql-upgrade-cmd-linux-2010/" target="_blank" rel="external">&#x5347;&#x7D1A; MySQL &#x5B8C;&#x6210;&#x5F8C;, &#x5EFA;&#x8B70;&#x624B;&#x52D5;&#x57F7;&#x884C;&#x7684;&#x547D;&#x4EE4;</a><br>[5] <a href="http://missions5.blogspot.tw/2015/06/mysql-log-error.html" target="_blank" rel="external">mysql log error</a><br>[6] <a href="https://github.com/munkireport/munkireport-php/issues/351#issuecomment-159391827" target="_blank" rel="external">https://github.com/munkireport/munkireport-php/issues/351</a></p>
<hr>
<h2 id="license">License</h2><p><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="    margin: 0;"><br>&#x672C;&#x8457;&#x4F5C;&#x7531;<a href="https://www.facebook.com/v123582" target="_blank" rel="external">Chang Wei-Yaun (v123582)</a>&#x88FD;&#x4F5C;&#xFF0C;<br>&#x4EE5;<a href="http://creativecommons.org/licenses/by-sa/3.0/deed.zh_TW" target="_blank" rel="external">&#x5275;&#x7528;CC &#x59D3;&#x540D;&#x6A19;&#x793A;-&#x76F8;&#x540C;&#x65B9;&#x5F0F;&#x5206;&#x4EAB; 3.0 Unported</a>&#x6388;&#x6B0A;&#x689D;&#x6B3E;&#x91CB;&#x51FA;&#x3002;</p>
</div><div class="post-nav"><a href="/blog/2016/02/06/Node.js 與他的開發工具們/" class="pre"><i class="icon-previous">Node.js 與他的開發工具們</i></a><a href="/blog/2015/12/06/MacOS-開發環境設定/" class="next">MacOS 開發環境設定<i class="icon-next"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'v123582';
var disqus_identifier = '2016/01/26/在mac-更新-mysql-筆記/';
var disqus_title = '在 MacOS 上安裝/更新 MySQL 筆記';
var disqus_url = 'http://v123582.github.io/blog/2016/01/26/在mac-更新-mysql-筆記/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//v123582.disqus.com/count.js" async="async"></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title">Information</div><ul><div class="tags">標籤：<a href="/blog/tags/MacOS/">MacOS</a><a href="/blog/tags/MySQL/">MySQL</a><a href="/blog/tags/環境設定/">環境設定</a></div><div class="categories">分類：<a href="/blog/categories/System/">System</a></div></ul></div><div class="widget"><div class="widget-title">Table of Content</div><div class="clear"><div id="toc" class="toc-article"><div class="toc"></div></div></div></div></div></div></div><div id="footer">© <a href="/" rel="nofollow">WeiYuan Note.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><script src="/blog//js/jquery.min.js" type="text/javascript"></script>
<script src="/blog//js/share.js" type="text/javascript"></script><a id="rocket" href="#top" class="show"></a><script src="/blog//js/jquery.min.js" type="text/javascript"></script>
<script src="/blog//js/totop.js" type="text/javascript"></script><script src="/blog//js/fancybox.pack.js" type="text/javascript"></script>
<script src="/blog//js/jquery.fancybox.js" type="text/javascript"></script><link rel="stylesheet" href="/blog//css/jquery.fancybox.css" type="text/css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-59103909-1','auto');ga('send','pageview');
</script></div></body></html>